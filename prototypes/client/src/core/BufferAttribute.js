import{Vector4}from'../math/Vector4.js';import{Vector3}from'../math/Vector3.js';import{Vector2}from'../math/Vector2.js';import{Color}from'../math/Color.js';import{_Math}from'../math/Math.js';function BufferAttribute(a,b,c){if(Array.isArray(a))throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');this.uuid=_Math.generateUUID(),this.array=a,this.itemSize=b,this.count=a===void 0?0:a.length/b,this.normalized=!0===c,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}Object.defineProperty(BufferAttribute.prototype,'needsUpdate',{set:function(a){!0===a&&this.version++}}),Object.assign(BufferAttribute.prototype,{isBufferAttribute:!0,setArray:function(a){if(Array.isArray(a))throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');this.count=a===void 0?0:a.length/this.itemSize,this.array=a},setDynamic:function(a){return this.dynamic=a,this},copy:function(a){return this.array=new a.array.constructor(a.array),this.itemSize=a.itemSize,this.count=a.count,this.normalized=a.normalized,this.dynamic=a.dynamic,this},copyAt:function(a,b,c){a*=this.itemSize,c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},copyArray:function(a){return this.array.set(a),this},copyColorsArray:function(a){for(var b,c=this.array,d=0,e=0,f=a.length;e<f;e++)b=a[e],void 0===b&&(console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined',e),b=new Color),c[d++]=b.r,c[d++]=b.g,c[d++]=b.b;return this},copyIndicesArray:function(a){for(var b,c=this.array,d=0,e=0,f=a.length;e<f;e++)b=a[e],c[d++]=b.a,c[d++]=b.b,c[d++]=b.c;return this},copyVector2sArray:function(a){for(var b,c=this.array,d=0,e=0,f=a.length;e<f;e++)b=a[e],void 0===b&&(console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined',e),b=new Vector2),c[d++]=b.x,c[d++]=b.y;return this},copyVector3sArray:function(a){for(var b,c=this.array,d=0,e=0,f=a.length;e<f;e++)b=a[e],void 0===b&&(console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined',e),b=new Vector3),c[d++]=b.x,c[d++]=b.y,c[d++]=b.z;return this},copyVector4sArray:function(a){for(var b,c=this.array,d=0,e=0,f=a.length;e<f;e++)b=a[e],void 0===b&&(console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined',e),b=new Vector4),c[d++]=b.x,c[d++]=b.y,c[d++]=b.z,c[d++]=b.w;return this},set:function(a,b){return void 0===b&&(b=0),this.array.set(a,b),this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){return this.array[a*this.itemSize]=b,this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){return this.array[a*this.itemSize+1]=b,this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){return this.array[a*this.itemSize+2]=b,this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,b){return this.array[a*this.itemSize+3]=b,this},setXY:function(a,b,c){return a*=this.itemSize,this.array[a+0]=b,this.array[a+1]=c,this},setXYZ:function(a,b,c,d){return a*=this.itemSize,this.array[a+0]=b,this.array[a+1]=c,this.array[a+2]=d,this},setXYZW:function(a,b,c,d,e){return a*=this.itemSize,this.array[a+0]=b,this.array[a+1]=c,this.array[a+2]=d,this.array[a+3]=e,this},onUpload:function(a){return this.onUploadCallback=a,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}});function Int8BufferAttribute(a,b){BufferAttribute.call(this,new Int8Array(a),b)}Int8BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int8BufferAttribute.prototype.constructor=Int8BufferAttribute;function Uint8BufferAttribute(a,b){BufferAttribute.call(this,new Uint8Array(a),b)}Uint8BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint8BufferAttribute.prototype.constructor=Uint8BufferAttribute;function Uint8ClampedBufferAttribute(a,b){BufferAttribute.call(this,new Uint8ClampedArray(a),b)}Uint8ClampedBufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint8ClampedBufferAttribute.prototype.constructor=Uint8ClampedBufferAttribute;function Int16BufferAttribute(a,b){BufferAttribute.call(this,new Int16Array(a),b)}Int16BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int16BufferAttribute.prototype.constructor=Int16BufferAttribute;function Uint16BufferAttribute(a,b){BufferAttribute.call(this,new Uint16Array(a),b)}Uint16BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint16BufferAttribute.prototype.constructor=Uint16BufferAttribute;function Int32BufferAttribute(a,b){BufferAttribute.call(this,new Int32Array(a),b)}Int32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int32BufferAttribute.prototype.constructor=Int32BufferAttribute;function Uint32BufferAttribute(a,b){BufferAttribute.call(this,new Uint32Array(a),b)}Uint32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint32BufferAttribute.prototype.constructor=Uint32BufferAttribute;function Float32BufferAttribute(a,b){BufferAttribute.call(this,new Float32Array(a),b)}Float32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Float32BufferAttribute.prototype.constructor=Float32BufferAttribute;function Float64BufferAttribute(a,b){BufferAttribute.call(this,new Float64Array(a),b)}Float64BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Float64BufferAttribute.prototype.constructor=Float64BufferAttribute;export{Float64BufferAttribute,Float32BufferAttribute,Uint32BufferAttribute,Int32BufferAttribute,Uint16BufferAttribute,Int16BufferAttribute,Uint8ClampedBufferAttribute,Uint8BufferAttribute,Int8BufferAttribute,BufferAttribute};