import{Float32BufferAttribute}from'../core/BufferAttribute.js';import{BufferGeometry}from'../core/BufferGeometry.js';import{Object3D}from'../core/Object3D.js';import{CylinderBufferGeometry}from'../geometries/CylinderGeometry.js';import{MeshBasicMaterial}from'../materials/MeshBasicMaterial.js';import{LineBasicMaterial}from'../materials/LineBasicMaterial.js';import{Mesh}from'../objects/Mesh.js';import{Line}from'../objects/Line.js';import{Vector3}from'../math/Vector3.js';var lineGeometry,coneGeometry;function ArrowHelper(a,b,c,d,e,f){Object3D.call(this),d===void 0&&(d=16776960),c===void 0&&(c=1),e===void 0&&(e=0.2*c),f===void 0&&(f=0.2*e),lineGeometry==void 0&&(lineGeometry=new BufferGeometry,lineGeometry.addAttribute('position',new Float32BufferAttribute([0,0,0,0,1,0],3)),coneGeometry=new CylinderBufferGeometry(0,0.5,1,5,1),coneGeometry.translate(0,-0.5,0)),this.position.copy(b),this.line=new Line(lineGeometry,new LineBasicMaterial({color:d})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(coneGeometry,new MeshBasicMaterial({color:d})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(a),this.setLength(c,e,f)}ArrowHelper.prototype=Object.create(Object3D.prototype),ArrowHelper.prototype.constructor=ArrowHelper,ArrowHelper.prototype.setDirection=function(){var a,b=new Vector3;return function(c){0.99999<c.y?this.quaternion.set(0,0,0,1):-0.99999>c.y?this.quaternion.set(1,0,0,0):(b.set(c.z,0,-c.x).normalize(),a=Math.acos(c.y),this.quaternion.setFromAxisAngle(b,a))}}(),ArrowHelper.prototype.setLength=function(a,b,c){b===void 0&&(b=0.2*a),c===void 0&&(c=0.2*b),this.line.scale.set(1,Math.max(0,a-b),1),this.line.updateMatrix(),this.cone.scale.set(c,b,c),this.cone.position.y=a,this.cone.updateMatrix()},ArrowHelper.prototype.setColor=function(a){this.line.material.color.copy(a),this.cone.material.color.copy(a)};export{ArrowHelper};