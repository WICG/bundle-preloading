import{Camera}from'../cameras/Camera.js';import{Vector3}from'../math/Vector3.js';import{LineSegments}from'../objects/LineSegments.js';import{Color}from'../math/Color.js';import{FaceColors}from'../constants.js';import{LineBasicMaterial}from'../materials/LineBasicMaterial.js';import{BufferGeometry}from'../core/BufferGeometry.js';import{Float32BufferAttribute}from'../core/BufferAttribute.js';function CameraHelper(a){function b(d,a,b){c(d,b),c(a,b)}function c(a,b){f.push(0,0,0),g.push(b.r,b.g,b.b),h[a]===void 0&&(h[a]=[]),h[a].push(f.length/3-1)}var d=new BufferGeometry,e=new LineBasicMaterial({color:16777215,vertexColors:FaceColors}),f=[],g=[],h={},i=new Color(16755200),j=new Color(16711680),k=new Color(43775),l=new Color(16777215),m=new Color(3355443);b('n1','n2',i),b('n2','n4',i),b('n4','n3',i),b('n3','n1',i),b('f1','f2',i),b('f2','f4',i),b('f4','f3',i),b('f3','f1',i),b('n1','f1',i),b('n2','f2',i),b('n3','f3',i),b('n4','f4',i),b('p','n1',j),b('p','n2',j),b('p','n3',j),b('p','n4',j),b('u1','u2',k),b('u2','u3',k),b('u3','u1',k),b('c','t',l),b('p','c',m),b('cn1','cn2',m),b('cn3','cn4',m),b('cf1','cf2',m),b('cf3','cf4',m),d.addAttribute('position',new Float32BufferAttribute(f,3)),d.addAttribute('color',new Float32BufferAttribute(g,3)),LineSegments.call(this,d,e),this.camera=a,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=h,this.update()}CameraHelper.prototype=Object.create(LineSegments.prototype),CameraHelper.prototype.constructor=CameraHelper,CameraHelper.prototype.update=function(){function a(a,f,g,h){d.set(f,g,h).unproject(e);var j=c[a];if(j!==void 0)for(var k=b.getAttribute('position'),m=0,i=j.length;m<i;m++)k.setXYZ(j[m],d.x,d.y,d.z)}var b,c,d=new Vector3,e=new Camera;return function(){b=this.geometry,c=this.pointMap;var d=1,f=1;e.projectionMatrix.copy(this.camera.projectionMatrix),a('c',0,0,-1),a('t',0,0,1),a('n1',-d,-f,-1),a('n2',d,-f,-1),a('n3',-d,f,-1),a('n4',d,f,-1),a('f1',-d,-f,1),a('f2',d,-f,1),a('f3',-d,f,1),a('f4',d,f,1),a('u1',0.7*d,1.1*f,-1),a('u2',0.7*-d,1.1*f,-1),a('u3',0,2*f,-1),a('cf1',-d,0,1),a('cf2',d,0,1),a('cf3',0,-f,1),a('cf4',0,f,1),a('cn1',-d,0,-1),a('cn2',d,0,-1),a('cn3',0,-f,-1),a('cn4',0,f,-1),b.getAttribute('position').needsUpdate=!0}}();export{CameraHelper};