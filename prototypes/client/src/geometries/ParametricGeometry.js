import{Geometry}from'../core/Geometry.js';import{BufferGeometry}from'../core/BufferGeometry.js';import{Float32BufferAttribute}from'../core/BufferAttribute.js';import{Vector3}from'../math/Vector3.js';function ParametricGeometry(a,b,c){Geometry.call(this),this.type='ParametricGeometry',this.parameters={func:a,slices:b,stacks:c},this.fromBufferGeometry(new ParametricBufferGeometry(a,b,c)),this.mergeVertices()}ParametricGeometry.prototype=Object.create(Geometry.prototype),ParametricGeometry.prototype.constructor=ParametricGeometry;function ParametricBufferGeometry(e,f,g){BufferGeometry.call(this),this.type='ParametricBufferGeometry',this.parameters={func:e,slices:f,stacks:g};var h,i,j=[],k=[],l=[],m=[],n=1e-5,o=new Vector3,p=new Vector3,q=new Vector3,r=new Vector3,s=new Vector3,t=f+1;for(h=0;h<=g;h++){var w=h/g;for(i=0;i<=f;i++){var v=i/f;p=e(v,w,p),k.push(p.x,p.y,p.z),0<=v-n?(q=e(v-n,w,q),r.subVectors(p,q)):(q=e(v+n,w,q),r.subVectors(q,p)),0<=w-n?(q=e(v,w-n,q),s.subVectors(p,q)):(q=e(v,w+n,q),s.subVectors(q,p)),o.crossVectors(r,s).normalize(),l.push(o.x,o.y,o.z),m.push(v,w)}}for(h=0;h<g;h++)for(i=0;i<f;i++){var u=h*t+i,a=h*t+i+1,b=(h+1)*t+i+1,c=(h+1)*t+i;j.push(u,a,c),j.push(a,b,c)}this.setIndex(j),this.addAttribute('position',new Float32BufferAttribute(k,3)),this.addAttribute('normal',new Float32BufferAttribute(l,3)),this.addAttribute('uv',new Float32BufferAttribute(m,2))}ParametricBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ParametricBufferGeometry.prototype.constructor=ParametricBufferGeometry;export{ParametricGeometry,ParametricBufferGeometry};