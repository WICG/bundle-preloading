import{QuadraticBezier,CubicBezier}from'./Interpolations.js';import{ShapePath}from'./ShapePath.js';function Font(a){this.data=a}Object.assign(Font.prototype,{isFont:!0,generateShapes:function(a,b,c){function d(a){for(var c,d=(a+'').split(''),g=b/f.resolution,h=(f.boundingBox.yMax-f.boundingBox.yMin+f.underlineThickness)*g,j=0,k=0,l=[],m=0;m<d.length;m++)if(c=d[m],'\n'===c)j=0,k-=h;else{var i=e(c,g,j,k);j+=i.offsetX,l.push(i.path)}return l}function e(a,b,d,e){var g=f.glyphs[a]||f.glyphs['?'];if(g){var h,j,k,m,n,o,p,q,r,s,u,v=new ShapePath,w=[];if(g.o)for(var x,y=g._cachedOutline||(g._cachedOutline=g.o.split(' ')),z=0,i=y.length;z<i;)switch(x=y[z++],x){case'm':h=y[z++]*b+d,j=y[z++]*b+e,v.moveTo(h,j);break;case'l':h=y[z++]*b+d,j=y[z++]*b+e,v.lineTo(h,j);break;case'q':if(k=y[z++]*b+d,m=y[z++]*b+e,p=y[z++]*b+d,q=y[z++]*b+e,v.quadraticCurveTo(p,q,k,m),u=w[w.length-1],u){n=u.x,o=u.y;for(var l,t=1;t<=c;t++)l=t/c,QuadraticBezier(l,n,p,k),QuadraticBezier(l,o,q,m)}break;case'b':if(k=y[z++]*b+d,m=y[z++]*b+e,p=y[z++]*b+d,q=y[z++]*b+e,r=y[z++]*b+d,s=y[z++]*b+e,v.bezierCurveTo(p,q,r,s,k,m),u=w[w.length-1],u){n=u.x,o=u.y;for(var l,t=1;t<=c;t++)l=t/c,CubicBezier(l,n,p,r,k),CubicBezier(l,o,q,s,m)}}return{offsetX:g.ha*b,path:v}}}b===void 0&&(b=100),c===void 0&&(c=4);for(var f=this.data,g=d(a),h=[],i=0,j=g.length;i<j;i++)Array.prototype.push.apply(h,g[i].toShapes());return h}});export{Font};