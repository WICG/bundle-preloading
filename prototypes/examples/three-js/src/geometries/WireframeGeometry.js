import{BufferGeometry}from'../core/BufferGeometry.js';import{Float32BufferAttribute}from'../core/BufferAttribute.js';import{Vector3}from'../math/Vector3.js';function WireframeGeometry(a){var b=Math.max,c=Math.min;BufferGeometry.call(this),this.type='WireframeGeometry';var d,f,g,h,i,j,e,k,l,m,n=[],o=[0,0],p={},q=['a','b','c'];if(a&&a.isGeometry){var r=a.faces;for(d=0,g=r.length;d<g;d++){var s=r[d];for(f=0;3>f;f++)e=s[q[f]],k=s[q[(f+1)%3]],o[0]=c(e,k),o[1]=b(e,k),l=o[0]+','+o[1],void 0===p[l]&&(p[l]={index1:o[0],index2:o[1]})}for(l in p)j=p[l],m=a.vertices[j.index1],n.push(m.x,m.y,m.z),m=a.vertices[j.index2],n.push(m.x,m.y,m.z)}else if(a&&a.isBufferGeometry){var t,u,v,w,x,y,z,A;if(m=new Vector3,null!==a.index){for(t=a.attributes.position,u=a.index,v=a.groups,0===v.length&&(v=[{start:0,count:u.count,materialIndex:0}]),(h=0,i=v.length);h<i;++h)for(w=v[h],x=w.start,y=w.count,(d=x,g=x+y);d<g;d+=3)for(f=0;3>f;f++)e=u.getX(d+f),k=u.getX(d+(f+1)%3),o[0]=c(e,k),o[1]=b(e,k),l=o[0]+','+o[1],void 0===p[l]&&(p[l]={index1:o[0],index2:o[1]});for(l in p)j=p[l],m.fromBufferAttribute(t,j.index1),n.push(m.x,m.y,m.z),m.fromBufferAttribute(t,j.index2),n.push(m.x,m.y,m.z)}else for(t=a.attributes.position,d=0,g=t.count/3;d<g;d++)for(f=0;3>f;f++)z=3*d+f,m.fromBufferAttribute(t,z),n.push(m.x,m.y,m.z),A=3*d+(f+1)%3,m.fromBufferAttribute(t,A),n.push(m.x,m.y,m.z)}this.addAttribute('position',new Float32BufferAttribute(n,3))}WireframeGeometry.prototype=Object.create(BufferGeometry.prototype),WireframeGeometry.prototype.constructor=WireframeGeometry;export{WireframeGeometry};