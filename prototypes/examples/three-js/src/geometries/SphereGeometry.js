import{Geometry}from'../core/Geometry.js';import{BufferGeometry}from'../core/BufferGeometry.js';import{Float32BufferAttribute}from'../core/BufferAttribute.js';import{Vector3}from'../math/Vector3.js';function SphereGeometry(a,b,c,d,e,f,g){Geometry.call(this),this.type='SphereGeometry',this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g},this.fromBufferGeometry(new SphereBufferGeometry(a,b,c,d,e,f,g)),this.mergeVertices()}SphereGeometry.prototype=Object.create(Geometry.prototype),SphereGeometry.prototype.constructor=SphereGeometry;function SphereBufferGeometry(e,f,g,h,i,j,k){var l=Math.sin,m=Math.cos,n=Math.PI,o=Math.max,p=Math.floor;BufferGeometry.call(this),this.type='SphereBufferGeometry',this.parameters={radius:e,widthSegments:f,heightSegments:g,phiStart:h,phiLength:i,thetaStart:j,thetaLength:k},e=e||50,f=o(3,p(f)||8),g=o(2,p(g)||6),h=h===void 0?0:h,i=i===void 0?2*n:i,j=j===void 0?0:j,k=k===void 0?n:k;var q,r,s=j+k,t=0,w=[],x=new Vector3,y=new Vector3,z=[],A=[],B=[],C=[];for(r=0;r<=g;r++){var D=[],E=r/g;for(q=0;q<=f;q++){var v=q/f;x.x=-e*m(h+v*i)*l(j+E*k),x.y=e*m(j+E*k),x.z=e*l(h+v*i)*l(j+E*k),A.push(x.x,x.y,x.z),y.set(x.x,x.y,x.z).normalize(),B.push(y.x,y.y,y.z),C.push(v,1-E),D.push(t++)}w.push(D)}for(r=0;r<g;r++)for(q=0;q<f;q++){var u=w[r][q+1],a=w[r][q],b=w[r+1][q],c=w[r+1][q+1];(0!==r||0<j)&&z.push(u,a,c),(r!==g-1||s<n)&&z.push(a,b,c)}this.setIndex(z),this.addAttribute('position',new Float32BufferAttribute(A,3)),this.addAttribute('normal',new Float32BufferAttribute(B,3)),this.addAttribute('uv',new Float32BufferAttribute(C,2))}SphereBufferGeometry.prototype=Object.create(BufferGeometry.prototype),SphereBufferGeometry.prototype.constructor=SphereBufferGeometry;export{SphereGeometry,SphereBufferGeometry};