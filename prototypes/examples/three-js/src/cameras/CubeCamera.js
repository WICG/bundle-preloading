import{Object3D}from'../core/Object3D.js';import{WebGLRenderTargetCube}from'../renderers/WebGLRenderTargetCube.js';import{LinearFilter,RGBFormat}from'../constants.js';import{Vector3}from'../math/Vector3.js';import{PerspectiveCamera}from'./PerspectiveCamera.js';function CubeCamera(a,b,c){Object3D.call(this),this.type='CubeCamera';var d=90,e=1,f=new PerspectiveCamera(d,e,a,b);f.up.set(0,-1,0),f.lookAt(new Vector3(1,0,0)),this.add(f);var g=new PerspectiveCamera(d,e,a,b);g.up.set(0,-1,0),g.lookAt(new Vector3(-1,0,0)),this.add(g);var h=new PerspectiveCamera(d,e,a,b);h.up.set(0,0,1),h.lookAt(new Vector3(0,1,0)),this.add(h);var i=new PerspectiveCamera(d,e,a,b);i.up.set(0,0,-1),i.lookAt(new Vector3(0,-1,0)),this.add(i);var j=new PerspectiveCamera(d,e,a,b);j.up.set(0,-1,0),j.lookAt(new Vector3(0,0,1)),this.add(j);var k=new PerspectiveCamera(d,e,a,b);k.up.set(0,-1,0),k.lookAt(new Vector3(0,0,-1)),this.add(k);this.renderTarget=new WebGLRenderTargetCube(c,c,{format:RGBFormat,magFilter:LinearFilter,minFilter:LinearFilter}),this.renderTarget.texture.name='CubeCamera',this.updateCubeMap=function(a,b){null===this.parent&&this.updateMatrixWorld();var c=this.renderTarget,d=c.texture.generateMipmaps;c.texture.generateMipmaps=!1,c.activeCubeFace=0,a.render(b,f,c),c.activeCubeFace=1,a.render(b,g,c),c.activeCubeFace=2,a.render(b,h,c),c.activeCubeFace=3,a.render(b,i,c),c.activeCubeFace=4,a.render(b,j,c),c.texture.generateMipmaps=d,c.activeCubeFace=5,a.render(b,k,c),a.setRenderTarget(null)}}CubeCamera.prototype=Object.create(Object3D.prototype),CubeCamera.prototype.constructor=CubeCamera;export{CubeCamera};