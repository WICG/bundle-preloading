import{ZeroCurvatureEnding}from'../../constants.js';import{Interpolant}from'../Interpolant.js';import{WrapAroundEnding,ZeroSlopeEnding}from'../../constants.js';function CubicInterpolant(a,b,c,d){Interpolant.call(this,a,b,c,d),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}CubicInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:CubicInterpolant,DefaultSettings_:{endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},intervalChanged_:function(a,b,c){var d=this.parameterPositions,e=a-2,f=a+1,g=d[e],h=d[f];if(g===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:e=a,g=2*b-c;break;case WrapAroundEnding:e=d.length-2,g=b+d[e]-d[e+1];break;default:e=a,g=c;}if(void 0===h)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:f=a,h=2*c-b;break;case WrapAroundEnding:f=1,h=c+d[1]-d[0];break;default:f=a-1,h=b;}var i=0.5*(c-b),j=this.valueSize;this._weightPrev=i/(b-g),this._weightNext=i/(h-c),this._offsetPrev=e*j,this._offsetNext=f*j},interpolate_:function(a,b,c,d){for(var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize,h=a*g,j=this._offsetPrev,k=this._offsetNext,l=this._weightPrev,m=this._weightNext,n=(c-b)/(d-b),o=n*n,p=o*n,q=0;q!==g;++q)e[q]=(-l*p+2*l*o-l*n)*f[j+q]+((1+l)*p+(-1.5-2*l)*o+(-0.5+l)*n+1)*f[h-g+q]+((-1-m)*p+(1.5+m)*o+0.5*n)*f[h+q]+(m*p-m*o)*f[k+q];return e}});export{CubicInterpolant};